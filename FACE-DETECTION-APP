import cv2 

# -----Creates a CascadeClassifier object and loads a pre-trained Haar cascade XML file that knows how to detect frontal human faces.-----
face_cascade=cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_frontalface_default.xml')


# -----Starts capturing video from the default webcam (device index 0)means that it uses the first camera of device .-----
cap=cv2.VideoCapture(0)

while True:
    ret,frame=cap.read()#ret is boolean values that say that the frame is captured successfully and  frame is the actual data from the webcam 
    
    #-- this will convert the image to gray scale 
    gray=cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)


    # -----Detects faces in the grayscale image. It returns a list of rectangles; each rectangle corresponds to one detected face-----
    faces =face_cascade.detectMultiScale(gray, scaleFactor=1.1,minNeighbors=5,minSize=(30,30))

# -----
    # x, y: top-left corner of the rectangle.
    # w, h: width and height of the rectangle-----
    for (x,y,w,h) in faces:
        cv2.rectangle (frame,(x,y),(x+w,y+h),(0,255,0),2) #color for rectangle is green

    # Display result 
    cv2.imshow("real time face detection",frame )

    # press 'q'to quit
    if cv2.waitKey(1) & 0xFF==ord("q"):
        break


cap.release()#Releases the webcam resource so that other applications can use it.

cv2.destroyAllWindows()#Closes all OpenCV-created windows. This is necessary to cleanly exit the graphical interface
